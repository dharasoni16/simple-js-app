let pokemonRepository=function(){let t=[];function e(e){t.push(e)}function n(){return t}function i(t){let e=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("list-group-item");let i=document.createElement("button"),r=document.createElement("img");i.innerText=t.name,i.classList.add("pokemon-name-button","btn","btn-lg","btn-warning"),i.setAttribute("data-bs-toggle","modal"),i.setAttribute("data-bs-target","#exampleModal"),n.appendChild(i),function t(e,n){e.addEventListener("click",()=>{var t;let e,i;t=n,$(".modal-header"),e=$(".modal-title"),i=$(".modal-body"),e.empty(),i.empty(),o(t).then(function(){let n=$("<h1>"+t.name+"</h1>"),o=$('<img class="pokemon-img">');o.attr("src",t.imageUrl),o.attr("alt","pokemonname");let r=$("<p class='list-group-item list-group-item-primary'>Height : "+t.height+"</p>"),a=$("<p class='list-group-item list-group-item-primary'>Weight : "+t.weight+"</p>"),l=$("<p class='list-group-item list-group-item-primary'>Type : "+t.types[0].type.name+"</p>");e.append(n),i.append(o),i.append(r,a,l)})})}(i,t),e.appendChild(n),function t(e,n){o(n).then(function(){e.src=n.CardImgUrl,e.setAttribute("alt","pokemonimage")})}(r,t),i.appendChild(r)}function o(t){return r(),fetch(t.detailsUrl).then(function(t){return a(),t.json()}).then(function(e){a(),t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.CardImgUrl=e.sprites.front_default}).catch(function(t){a(),console.log(t)})}function r(){document.getElementById("spinner").style.display="block"}function a(){document.getElementById("spinner").style.display="none"}return document.querySelector("#modal-container"),document.querySelector("#search").addEventListener("input",function(){(function e(n){document.querySelector(".pokemon-list").innerHTML="";t.filter(t=>t.name.toLowerCase().includes(n)).forEach(t=>{i(t)})})(document.getElementById("search").value.toLowerCase())}),{add:e,getAll:n,loadList:function t(){return r(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return a(),t.json()}).then(function(t){a(),t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){a(),console.error(t)})},loadDetails:o,addListItem:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});